{"version":3,"sources":["webpack:///src/app/components/security/modals/userprofile/userprofile.component.ts","webpack:///src/app/components/security/modals/userprofile/userprofile.component.html","webpack:///src/app/components/security/modals/userprofile/userprofile.module.ts"],"names":["UserProfileComponent","rfngService","userService","appService","password","form","showWaitStatus","tab","isNotNull","invalid","hideWaitStatus","showFormValidationErrors","valid","data","userId","getUserId","editUserProfile","response","status","addMessageSucces","i18n","addMessageError","closeModal","selector","templateUrl","styleUrls","UserProfileModule","declarations","imports","providers","exports","schemas"],"mappings":"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","file":"security-modals-userprofile-userprofile-module-es5.js","sourcesContent":["import { Component, Inject } from '@angular/core';\r\nimport { BaseComponent, RfngService, CommonsUtils } from 'rfnglib';\r\nimport { UserService } from 'src/app/services/security/user.service';\r\nimport { AppService } from 'src/app/app.service';\r\nimport { FormGroup } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'rfpm-userprofile',\r\n  templateUrl: './userprofile.component.html',\r\n  styleUrls: ['./userprofile.component.css']\r\n})\r\nexport class UserProfileComponent extends BaseComponent {\r\n\r\n  userService: UserService;\r\n  appService: AppService;\r\n  password: string;\r\n\r\n\r\n  constructor(rfngService: RfngService, @Inject(UserService) userService, @Inject(AppService) appService) {\r\n    super(rfngService);\r\n    this.userService = userService;\r\n    this.appService = appService;\r\n    this.password = null;\r\n  }\r\n\r\n  async actionSave(form: FormGroup) {\r\n    this.rfngService.showWaitStatus(this.tab);\r\n    if (CommonsUtils.isNotNull(form.invalid) && form.invalid === true) {\r\n      this.rfngService.hideWaitStatus();\r\n      this.showFormValidationErrors(form);\r\n    } else {\r\n      let valid: boolean = true;\r\n      try {\r\n        let data = { userId: this.appService.getUserId(), password: this.password };\r\n        let response: any = await this.userService.editUserProfile(data);\r\n\r\n        if (CommonsUtils.isNotNull(response) && response.status === 200) {\r\n          valid = true;\r\n        } else {\r\n          valid = false;\r\n        }\r\n\r\n        this.rfngService.hideWaitStatus(this.tab);\r\n\r\n      } catch (ex) {\r\n        valid = false;\r\n      }\r\n      if (valid) {\r\n        this.addMessageSucces(this.i18n('rfpm.userProfile.save.success'));\r\n      } else {\r\n        this.addMessageError(this.i18n('rfpm.userProfile.save.error'));\r\n      }\r\n      this.rfngService.hideWaitStatus();\r\n      this.closeModal();\r\n    }\r\n  }\r\n\r\n}\r\n","<form #frm=\"ngForm\" novalidate class=\"FullContainer\">\r\n\r\n  <div class=\"UserProfileMessage\">\r\n\r\n    <rf-inputpassword name=\"{{'password'+this.id}}\" [disabled]=\"false\" [required]=\"true\" [model]=\"this\"\r\n      [property]=\"'password'\" [max]=\"50\" [label]=\"'Password'\">\r\n    </rf-inputpassword>\r\n\r\n  </div>\r\n\r\n  <div class=\"UserProfileAcctions\">\r\n    <button class=\"UserProfileButton UserProfileAcctionsAcctionsFirst\" (click)=\"this.actionSave(frm.control)\">\r\n      <i class=\"far fa-thumbs-up\"></i>\r\n    </button>\r\n  </div>\r\n\r\n</form>\r\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { BaseModule, I18nModule, TooltipModule, InputPasswordModule } from 'rfnglib';\r\nimport { UserProfileComponent } from './userprofile.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { UserService } from 'src/app/services/security/user.service';\r\nimport { AppService } from 'src/app/app.service';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    UserProfileComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    I18nModule,\r\n    TooltipModule,\r\n    InputPasswordModule\r\n  ],\r\n  providers: [UserService, AppService],\r\n  exports: [\r\n    UserProfileComponent,\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class UserProfileModule extends BaseModule {\r\n}\r\n"]}